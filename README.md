# MLBetterCode (BetterCode)

Клиентский мод для **Minecraft 1.12.2 (Forge)**, заточенный под режим кодинга на сервере (GUI‑кодинг + автоплейсер).

## Требования

- Minecraft **1.12.2**
- Forge **1.12.2-14.23.5.2859**
- Java **8**

## Установка

1) Скачай `bettercode-*.jar` из **Releases** этого репозитория.  
2) Положи в `.minecraft/mods/`  
3) Запусти игру.

## Основные команды

### `/mldsl`

Запуск плана, который сгенерил компилятор MLDSL (`plan.json`):

- `/mldsl run [path] [--start N]`
  - `path` — путь к `plan.json` (если не указан, берётся `.minecraft/plan.json`)
  - `--start N` — начать с шага `N` (0‑based)

Проверка (сканирует код и пишет в чат, какие строки уже существуют):

- `/mldsl check [path] [--start N]`

### `/placeadvanced`

Ручной автоплейсер “поставь блок → открой меню → выбери действие → заполни сундук параметров”.

- `/placeadvanced <block> <name> <args|no> [<block> <name> <args|no> ...]`
- Можно вставлять `air` как паузу между действиями.

`args` — строка, которая заполняет GUI‑слоты:

- `slot(15)=text(hello)`
- `slot(13)=var(test)` / `var_save(test)`
- `slot(9)=item(stone, count=3, name="&aКамушек", description="l1\\n&bL2", nbt={})`
- `clicks(15,3)=0` — просто клики по слоту (для enum‑переключателей)

### `/tppath`

Строит очередь “телепорта по точкам” до координат:

- `/tppath <x> <y> <z>`

### `/cacheallchests`

Автокеширование сундуков вокруг (для быстрого чтения/валидации):

- `/cacheallchests` — поставить в очередь все загруженные сундуки
- `/cacheallchests stop` — остановить

### `/regallactions`

Проходит по меню действий, кеширует path/категории/подэлементы/GUI/таблички/сундуки параметров.

- `/regallactions [stop]`
- `/regallactionsdebug [on/off]`

Экспорт пишет в `.minecraft/regallactions_export.txt`.

## Хоткеи (Dev+Creative)

Работают только в режиме кодинга (Dev) и в Creative:

- `R` или `Right Alt` — открыть code menu
- `G` — “TP forward”
  - удерживай `G` и крути колесо: накопит шаги
  - отпусти `G`: выполнит серию коротких TP шагов
  - пока удерживаешь `G`: `+` поднимает на `+10y`, `-` опускает на `-10y`

## Ввод параметров через “стёкла”

В сундуке параметров тип ввода определяется **стеклянной панелью‑маркером**:

- клик по стеклу → мод ищет соседний слот (вниз → влево → вправо → вверх)
- если рядом уже лежит валидный предмет нужного типа → откроется редактирование
- иначе возьмётся первый пустой слот и туда будет помещён предмет‑значение

Клавиши в режиме ввода:

- `Enter` — применить ввод
- `Shift+Enter` — применить ввод + выдать “extra stack” (64) если подходит
- `Tab` — применить подсказку
- `Shift+Tab` — применить ввод
- `Esc` — отмена

Плейсхолдеры:

- мод умеет вставлять `%player%`, `%selected%`, `%var(name)%` и т.п. через UI‑кнопки (в режиме ввода)

## Разработка

- Сборка: `.\gradlew.bat build`
- Артефакт: `build/libs/bettercode-*.jar`
